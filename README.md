# GW Switch
Gateway switch - небольшой сервис для быстрого переключения маршрутов средствами маршрутизатора под управлением RouterOS.
Пользователь может самостоятельно зайти на страницу сервиса и выбрать нужный маршрут для его IP, например через VPN.


В данный момент поддерживается переключение при помощи таблиц и правил маршрутизации.


Сборка и запуск приложения (для работы требуется минимум 11 версия java):

1. Делем копию репозитория в нужный каталог:
   * `git clone https://github.com/Haw41k/gw-switch.git`
2. В каталоге скачанного проекта используем mvnw (Maven Wrapper):
   * `mvnw spring-boot:run` для запуска сервиса без упаковки в JAR.
   * `mvnw package` для упаковки приложения в JAR. Последующий запуск `java -jar [путь к jar файлу]`. 
   * После сборки файлы будут находиться в каталоге `target`
3. Для работы потребуется конфигурационный файл, который нужно поместить в домашний каталог пользователя:
   * `[домашний каталог пользователя]/gw-switch/config/application.yml`

Пример конфигурационного файла:

```
gw-switch:
  routers:
  - ip: 192.168.50.10
    user: api
    password: api
    gateways:
    # id - имя таблицы машрутизации
    # name - название в интерфейсе пользователя
    - id: rtab-1
      name: gw1
    - id: rtab-2
      name: gw2
```
Сервис по умолчанию запускается на `8080` порту, для изменения, в конфигурацию нужно добавить:
```
server:
  port: [порт]
```

## Рекомендации:
Для работы с API стоит создать отдельного пользователя и отдельную группу для него, с политиками: `read, write, api`

## Предупреждение:
Для работы с API используется незащищённое соединение на стандартный порт `8728`. 
В планах добавить возможность защищённого соединения.